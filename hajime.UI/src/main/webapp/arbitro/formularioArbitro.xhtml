<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>hajime!</title>
    </h:head>
    <h:body>
        <h:outputStylesheet name="css/default.css" />
        <p:commandButton  action="#{arbitroMB.newItem}" value="Novo Arbitro"  update=":form2" oncomplete="PF('frmDialog').show()"  >

        </p:commandButton> 
        <h:form id="form1">
            <p:dataGrid var="arbitro" value="#{arbitroMB.listItens}" columns="4" layout="grid"
                        rows="20" paginator="true" id="cars"
                        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                        rowsPerPageTemplate="6,12,16">

                <f:facet name="header">
                    Arbitros
                </f:facet>

                <p:panel header="#{arbitro.nome}" style="text-align:center">
                    <h:panelGrid columns="1" style="width:100%">
                        <p:graphicImage name="images/arbitros/#{arbitro.id}.jpg" height="80" width="80"/> 
                        <p:graphicImage name="images/relatorio/grad_conv_#{arbitro.categoria}.png"/> 

                        <h:outputText value="#{arbitro.idassociacao.nome}" />

                        <p:commandButton action="#{arbitroMB.setItem(arbitro)}"  oncomplete="PF('frmDialog').show()"  icon="ui-icon-pencil" update="frmDialog" >
                        </p:commandButton>
                    </h:panelGrid>
                </p:panel>

            </p:dataGrid>
        </h:form>
        <p:dialog header="Dados Arbitro" id="frmDialog" widgetVar="frmDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false" width="80%">
            <h:form id="form2" enctype="multipart/form-data">
                <h:messages /> 
                <p:panel>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <h:outputLabel value="Nome" for="txtNome"/>
                            <p:inputText id="txtNome" value="#{arbitroMB.item.nome}" size="100" />
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <h:outputLabel value="Associacao" for="ddAssociacao"/>
                            <p:selectOneMenu id="ddAssociacao"  value="#{arbitroMB.item.idassociacao.id}" style="width:125px">
                                <f:selectItem itemLabel="Escolha uma" itemValue="" />
                                <f:selectItems value="#{arbitroMB.delegacia.associacaoCollection}" var="associacao" itemLabel="${associacao.nome}" itemValue="${associacao.id}" />
                            </p:selectOneMenu>
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <h:outputLabel value="Categoria" for="ddCategoria"/>
                            <p:selectOneMenu id="ddCategoria" value="#{arbitroMB.item.categoria}" style="width:125px">
                                <f:selectItem itemLabel="Select One" itemValue="" />
                                <f:selectItem itemLabel="Aspirante Regional" itemValue="0" />
                                <f:selectItem itemLabel="Regional" itemValue="1" />
                                <f:selectItem itemLabel="Estadual" itemValue="2" />
                                <f:selectItem itemLabel="Nacional C" itemValue="3" />
                                <f:selectItem itemLabel="Nacional B" itemValue="4" />
                                <f:selectItem itemLabel="Nacional A" itemValue="5" />
                                <f:selectItem itemLabel="Aspirante Fij" itemValue="6" />
                                <f:selectItem itemLabel="FIJ C" itemValue="7" />
                                <f:selectItem itemLabel="FIJ B" itemValue="8" />
                                <f:selectItem itemLabel="FIJ A" itemValue="9" />
                            </p:selectOneMenu>
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:growl id="messages" showDetail="true" />
                           <p:fileUpload fileUploadListener="#{arbitroMB.upload}" mode="advanced" dragDropSupport="false"
                            accept="" update="messages" sizeLimit="100000" fileLimit="1" />
                            
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-5">
                    
                            <p:commandButton  action="#{arbitroMB.saveItem}" value="Salvar" process="@this"  update=":form1"  oncomplete="PF('frmDialog').hide();"  >
                            </p:commandButton>   
                        </div>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>
    </h:body>
</html>

